---
title:  "KOSPO 웹서비스 정보보안 경진대회 6위 후기"
excerpt: "입상하면 대학원감 팀, 다행히 입상 못함"

categories:
  - CTF/대회 후기
tags:
  - web
  - 남부발전
  - 모의해킹
  
  
date: 2021-09-06 

---

# 1. 참가하게 된 경로
<br>
정보보호 영재교육원 단톡방에 이러한 대회가 있다고 튜터님들이 올려주신것을 보았고, 마침 영교원에서도 웹 해킹을 배우던 찰나여서 1문제만 풀어보자라는 의미로 팀을 꾸리고 참가하게 되었다.<br>



<br>
# 2. 그러나 대회는 CTF방식이 아닌! 
<br>

대회 시작 3일전 안내사항 영상을 보고 있었중 영상에서 대회 진행방식을 설명해주었다. 여기서 1차로 자신감이 떡락하였다. CTF방식이 아닌 실제 남부발전 웹서버를 기반으로 만든 대회서버를 모의해킹하여 취약점을 찾고 보고서를 적는 방식이였다. 그렇게 이번대회도 뒤에서 1등 할 것이 미리 눈에 보였다.

<br>
# 3. 대회 당일
<br>

우리가 해킹해야할 4개의 웹사이트 주소와 테스트용 계정과 사업자번호를 받았다.
일단 사이트가 어떻게 돌아가는지 파악을 한후 모의해킹 계획을 세울 예정이였는데, 
대회시작 15분도 되지 않아서 어떤 팀이 취약점을 발견하고 모든 게시판 페이지를 날려버린모습을 보았다.
여기서 2차 멘붕이 왔다. "와 내가 저런 사람들이랑 어떻게 싸우지?" 라는 생각이 듬과 동시에 점점 자신감을 잃었다.
그렇게 대회 시작 2시간 동안 웹 서버를 탐험 한후 해킹 계획을 세웠다.

 

<br>
# 4. 첫 취약점 발견!
<br>

시작한지 15분 만에 털린 공지사항 게시판이 제일 만만할거 같아서 공지사항 게시판에 글을 올리는 것이 우리 팀의 목표로 잡았다.

공지사항 게시판에 글쓰기 버튼을 눌렀는데, 허용되지 않은 IP라는 js알람창이 떳다. 여기서 팀원들은 버프슈트로 아이피 값을 변경하면 될것 같다 생각하여 삽질을 하기시작했다.
여기서 나는 하라는 삽질은 안하고 F12키를 누르고 html코드를 한줄한줄 음미(?) 했다. 그러던중 주석으로 관리자 페이지 링크가 있는 것을 발견하게 되었다.
에이 설마 들어가지겠어? 라는 생각으로 접속을 해보았는데 공지사항에 글을 쓸수있는 에디터가 나왔다! 그리고 입상하면 대학원감이라는 공지사항을 올리고 관심을 받게되었다. 

<br>
# 5. 계획전면 수정

최종 목표를 1시간만에 클리어한 대형사고(?)를 일으키고 이번 대회 계획을 10위 안으로 들어가는 것으로 변경하고,
지금까지 배운 지식을 총동원해 한번 신나게 남부발전을 털어보자는 정신으로 재무장 했다. <del>이때 정신 재무장이 추후 큰 재앙을 안겨왔다.</del>

# 6. 두번째 취약점 발견!!

재무장후 사업계획서를 제출하는 페이지를 공략해보기로 했다. 
이곳은 doc,pdf,hwp 등등 문서파일이 아니면 js경고창을 띄우면서 파일이 올라가지 않았다.

일단 간단하게 웹쉘이라고 부르기 민망한 수준의 웹쉘을 짠후

```
<?php
phpinfo();
os.system(cat /etc/issue);
os.system(cat /etc/passwd);
?>

```

다들 버프슈트로 확장자를 속여 업로드 할려는 삽질을 시작했다.

이때도 나는 하라는 삽질은 안하고 F12키로 수백줄의 html코드를 한줄한줄 음미하기 시작했다.
그러던중 js에서 확장자를 검사하는 부분을 찾게 되었고 js 검사구문중 pdf를 php로 변경한후 웹 쉘을 올렸는데 성공적으로 올라갔다. 

그렇게 대회 종료 3시간 전 중간 순위가 발표되는데 ···

# 7. 어서와 대학원은 처음이지?

뭔가 잘못되었음을 느꼈다. 
분명 우리는 10위가 목표였는데 왜 4위에 가있는거지? 이때 부터 모든사람들의 관심을 받기 시작했다.
디스코드 대화창에서는 10년뒤 박사되면 싸인해주세요 부터, 우리팀 대학원 보낼려고 일부러 대회 진행을 안하는 밑에 팀 , 튜터님에게 어서와 대학원은 처음이지? 라는 메시지 등등 뜨거운 관심을 받게되었다.

# 8.그리고 대회종료 1시간 30분전 취약점 발견

뜨거운 관심을 뒤로하고 대회에 다시 집중하던중 뭔가 사이트들이 껍데기는 달라도 내부 구조가 비슷하다는 느낌이 들었다. 
그래서 2번째 취약점을 다른 사이트에 적용시켜보았다.
결과는? 성공이였다. 이때 기분은 내가 취약점을 찾았다는 성취감 반과 대학원을 가야하는 두려움이 머리속을 감돌았다.

# 9. 대회 종료 전 마지막 결과 / 그 후

<img src="/assets/images/20210906-1/1.jpg">

다행이 밑에 있던 팀이 치고 올라와준 덕분에 6위로 대회가 마무리 되었다.
수상은 못했지만 이번 대회로 많은 경험을 했다. 
누추하지만 웹쉘도 직접 짜보고 이야기가 길어질까봐 본문에는 서술하지 못한 학생부 특별문제, 보고서 적기 등등 내 보안공부에 큰 한휙을 그었다는 생각이 들었다.

대회가 목요일에 진행되어서 금토일은 꿀맛같은 휴식을 취할려 했으나····
재무장 할때 온갖 힘을 썼는지 과로가 났다. 
<img src="/assets/images/20210906-1/2.jpg">
체온 38도!
 3일동안 아파 죽을뻔 했다··· 다시는 몸을 오버클럭하며 대회에 참여하지 말아야겠다는 교훈도 얻었다.







 

